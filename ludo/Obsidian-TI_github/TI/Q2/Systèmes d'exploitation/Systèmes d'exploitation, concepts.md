
![[Système exploit theorie_230310_135602.pdf]]
# ordonnancement

# gestion de la mémoire
## La fonction de mémorisation
Trois problèmes à résoudre vis-à-vis de la  
mémoire :  
❑Définir un espace d'adressage indépendant  
pour chaque processus  
❑Protéger les espaces d'adressages des processus  
entre eux  
❑Allouer de la mémoire physique à chaque espace  
d'adressage
## Le chargement dynamique en mémoire
![[Pasted image 20230315191402.png]]
![[Pasted image 20230315191426.png]]
## Le découpage de la mémoire
La mémoire centrale peut-être découpée de trois façons :  
◼ la segmentation : les programmes sont découpés en  
parcelles ayant des longueurs variables appelées  
«segments».  
◼ la pagination : elle consiste à diviser la mémoire en  
blocs, et les programmes en pages de longueur fixe.  
◼ une combinaison de segmentation et de pagination :  
certaines parties de la mémoires sont segmentées, les  
autres sont paginées.
## Organisation de la mémoire d’un processus
![[Pasted image 20230315191540.png]]
Le segment de code  
	Le segment de code est obtenu en copiant directement  
	en mémoire le segment de code du fichier exécutable.  
	Au cours de l'exécution du programme, la prochaine  
	instruction à exécuter est repérée par un pointeur  
	d'instruction.
Le segment de données  
	Au dessus du segment de code se trouve le segment  
	de données.  
	Ce segment est traditionnellement composé d'un  
	segment de données initialisées (data), qui est  
	directement copié à partir de l'exécutable, et d'un  
	segment de données non initialisées (bss pour block  
	storage segment) qui est créé dynamiquement.
![[Pasted image 20230315191655.png]]
	Les données initialisées correspondent à toutes les  
	variables globales et statiques initialisées des programmes  
	C. Les données non initialisées correspondent aux  
	variables globales et statiques non initialisées.  
	Le segment de données peut être agrandi ou réduit au  
	cours de l'exécution pour permettre d'y placer des  
	données. Néanmoins, il est habituel de considérer que ce  
	segment est fixe et correspond à celui obtenu avant  
	l'exécution de la première instruction : le segment bss se  
	résume alors aux variables locales de la fonction main().  
	La pile et le tas sont des zones variables.
Les autres informations  
	D'autres informations sont placées dans l'espace mémoire  
	du processus, comme les paramètres passés en ligne lors  
	de l'exécution du programme.  
	Suivant les systèmes d'exploitation, le système peut aussi  
	stocker différents renseignements, comme par exemple le  
	mode dans lequel doit s'exécuter le processus. Ces  
	renseignements se trouvent dans une structure qui se  
	nomme souvent Process Control Bloc (PCB).
Conclusion  
	L'espace mémoire d'un processus est donc divisé en deux  
	morceaux variables situés chacun à une extrémité de  
	l'espace. Ces morceaux sont eux-mêmes divisés en  
	plusieurs segments, certains de taille fixe situés aux  
	extrémités, d'autres de taille variable.  
	Suivant les systèmes d'exploitation, le tas et la pile  
	peuvent se trouver l'un en haut et l'autre en bas, ou  
	l'inverse.
# Organisation de la mémoire physique
## Pagination
La pagination constitue une approche permettant de  
réduire la fragmentation de la mémoire  
(fragmentation externe).  
L’espace des adresses logiques d’un processus est  
‘paginé’ :  
•Les pages sont indépendantes en terme d’adressage à  
l’intérieur de la mémoire et ne sont pas nécessairement  
contiguës  
•Le SE alloue la mémoire physique chaque fois que la  
nécessité de loger une page se présente.
![[Pasted image 20230315192203.png]]
![[Pasted image 20230315192222.png]]
Avantages et inconvénients:  
◼ Meilleure utilisation de la mémoire physique  
(programmes implantés par fragments, dans des pages  
non consécutives).  
◼ Possibilité de ne charger des pages que lorsqu'elles  
sont référencées (chargement à la demande).  
◼ Indépendance de l'espace virtuel et de la mémoire  
physique (mémoire virtuelle généralement plus grande).  
◼ Par contre, fragmentation interne (toutes les  
pages ne sont pas remplies).
## Pagination et Segmentation
![[Pasted image 20230315192255.png]]
## Segmentation
![[Pasted image 20230315192331.png]]
![[Pasted image 20230315192347.png]]
![[Pasted image 20230315192425.png]]
Malheureusement, l’allocations et la  
désallocations successives des segments crée  
également un problème de fragmentation :  
On va alors combiner segmentation et pagination :  
→ paginer les segments
## Segmentation et Pagination
La segmentation et la pagination sont deux notions  
différentes qui sont utilisées conjointement.  
La segmentation doit être vue comme une structuration  
de l'espace des adresses d'un processus, alors que la  
pagination doit être vue comme un moyen d'adaptation  
de la mémoire virtuelle à la mémoire réelle
## Mémoire virtuelle
![[Pasted image 20230315192500.png]]
![[Pasted image 20230315192514.png]]
![[Pasted image 20230315192527.png]]
![[Pasted image 20230315192549.png]]
Bit de validation et défaut de page  
Ne charger que les pages utiles à un instant :  
→ il faut pouvoir tester la présence d'une page en  
mémoire centrale :  
→ rôle du bit de validation  
→ si un processus cherche à accéder à une page non  
présente en mémoire centrale, il se produit un  
déroutement de défaut de page  
	le système d'exploitation lance une entrée/sortie disque  
	pour charger la page en mémoire dans une case libre  
		→ perte de performances !
![[Pasted image 20230315192649.png]]
![[Pasted image 20230315192804.png]]
Les pages d'un processus ne sont chargées en mémoire  
centrale que lorsque le processus y accède  
❑ Lorsqu'un processus accède à une page non présente en  
mémoire centrale, il se produit un défaut de page.  
La page manquante est alors chargée dans une case libre.  
❑Si aucune case n'est libre, le système utilise un algorithme de  
remplacement de page pour choisir une case à libérer.  
❑ L'écroulement est la situation pour laquelle un ou plusieurs  
processus passent plus de temps à paginer qu'à s'exécuter.
# gestion des fichiers

# systèmes de fichiers-add

# systèmes de fichiers-V3

